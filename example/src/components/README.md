<!-- rules规则说明文档 -->

# rules.js规则使用文档

- 使用基本与element相同，主要在rules对象里面新增了一个验证规则

```js
    rules: {
        "a.memberId": [
            {                        
                message: '四大哈斯爱说大话还是',
                required: true,
                trigger: 'change'
            },
            {
                message: '无奈',
                regx: "commonly",
                trigger: 'change'
            },
            { min: 3, max: 5, message: '长度在 3 到 5 个字符', trigger: 'change' }
        ],
        name: [
            {
                regx: {
                    name: 'float',
                    floatR: 2,
                },
                message: '请输入不为0的小数，且小数点后最多2位',
                trigger: 'blur'
            }
        ],
        sex: {
            wen: [
                {
                    regx: "email",
                    trigger: 'blur'
                }
            ],
            xiao: [
                {
                    trigger: 'blur'
                }
            ]
        },
        age: 18
    }
```

- rules中不在需要自定义声明validator属性，rules.js都已经做好了基本的正则验证。

- rules通过regx属性控制匹配的正则名称，message属性为验证不通过时的提示，其他的都与element用法一致。

- message说明：message不是必选项，rules.js中已有基础的提示消息，如果发现基础提示不能满足需求，可以自定义message覆盖基础提示信息。

- 需要注意的是regx属性可以是一个Object或者String，当为String时，只声明正则的匹配规则名称，当regx为一个Object时，只支持float类型验证【float,positiveFloat,negativeFloat,containZeroFloat,nonnegativeFloat,nonpositiveFloat】，需要声明name值（规则名称）和floatR值（小数点保留位数）。

- floatR说明：floatR可以是一个Number或者Array，当为Number类型时候，保留小数点后最多Number位。floatR类型为Array时，自定义一个长度范围，（例如[2,5]，小数点最少2位，最多5位）Array长度为2，且有序。


## 正则匹配规则名称对比表

| Name | Explain | Message | Regx |
| ----- | ------- | ------- | ---- |
| email | E-mail地址 | 邮箱格式有误，请重新输入 | /^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/ |
| phone | 手机号码 | 手机号码格式有误，请重新输入 | /^((\(\d{2,3}\))\|(\d{3}\-))?13\d{9}$/ |
| integer | 整数 | 只能输入整数噢 | /^-?\d+$/ |
| chinese | 中文 | 只能输入中文噢 | /^[\u0391-\uFFE5]+$/ |
| tel | 座机号码 | 座机号码格式有误，请重新输入 | /^((\(\d{2,3}\))\|(\d{3}\-))?(\(0\d{2,3}\)\|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/ |
| url | URL地址 | URL格式有误，请重新输入 | /^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/ |
| ip | IP地址 | IP格式有误，请重新输入 | /(\d+)\.(\d+)\.(\d+)\.(\d+)/ |
| areaCode | 电话区号 | 电话区号格式有误，请重新输入 | /^0\d{2,3}$/ |
| qq | 腾讯QQ号 | QQ账号格式有误，请重新输入 | /^[1-9]*[1-9][0-9]*$/ |
| account | 帐号 | 账号只能以字母开头，6-16字节，允许字母数字下划线 | /^[a-zA-Z][a-zA-Z0-9_]{5,15}$/ |
| cenu | 中文、英文、数字及下划线 | 输入字符不合规(只能为中文、英文、数字及下划线) | /^[\u4e00-\u9fa5_a-zA-Z0-9]+$/ |
| sql | SQL语句 | SQL语句输入有误，请重新输入 | /^(select\|drop\|delete\|create\|update\|insert).*$/ |
| eng | 英文字符串 | 字符输入有误，请重新输入 | /^[A-Za-z]+$/ |
| engNum | 英文+数字 | 字符输入有误，请重新输入 | /^[A-Za-z0-9]+$/ |
| identity | 身份证 | 身份证号码输入有误，请重新输入 | /(^\d{15}$)\|(^\d{18}$)\|(^\d{17}(\d\|X\|x)$)/ |
| name | 中文姓名 | 姓名输入有误，请重新输入（只支持中文） | /^[\u4e00-\u9fa5]{2,4}$/ |
| strengthen | 强字符组合 | 字符格式为字母+数字+特殊字符 | /^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&*]+$)(?![a-zA-z\d]+$)(?![a-zA-z!@#$%^&*]+$)(?![\d!@#$%^&*]+$)[a-zA-Z\d!@#$%^&*]+$/ |
| commonly | 中字符组合 | 字符格式为(字母+数字)或(字母+特殊字符)或(数字+特殊字符) | /^(?![a-zA-z]+$)(?!\d+$)(?![!@#$%^&*]+$)[a-zA-Z\d!@#$%^&*]+$/ |
| simple | 弱字符组合 | 字符格式为纯数字或纯字母或纯特殊字符 | /^(?:\d+\|[a-zA-Z]+\|[!@#$%^&*]+)$/ |
| nonnegativeInt | 非负整数 | 请输入>=0的整数 | /^\d+$/ |
| positiveInt | 正整数 | 请输入>0的整数 | /^[0-9]*[1-9][0-9]*$/ |
| nonpositiveInt | 非正整数 | 请输入<=0的整数 | /^((-\d+)\|(0+))$/ |
| negtiveInt | 负整数 | 请输入<0的整数 | /^-[0-9]*[1-9][0-9]*$/ |
| nonnegative | 非负数 | 请输入>=0的数 | /^\d+(\.\d+)?$/ |
| nonpositive | 非正数 | 请输入<=0的数 | /^(-([1-9]\d*.\d*\|0.\d*[1-9]\d*\|[1-9]\d*))\|0?.0+\|0$/ |
| positive | 正数 | 请输入>0的数 | /^(([0-9]+\.[0-9]*[1-9][0-9]*)\|([0-9]*[1-9][0-9]*\.[0-9]+)\|([0-9]*[1-9][0-9]*))$/ |
| negative | 负数 | 请输入<0的数 | /^(-([0-9]+\.[0-9]*[1-9][0-9]*)\|-([0-9]*[1-9][0-9]*\.[0-9]+)\|-([0-9]*[1-9][0-9]*))$/ |
| float | 不为0的浮点数 | 请输入不为0的小数 | /^([+-]?)\d*\.\d{1,}$/ |
| positiveFloat | 正浮点数 | 请输入>0的小数 | /^[1-9]\d*.\d{1,}\|0.\d{1,}$/ |
| negativeFloat | 负浮点数 | 请输入<0的小数 | /^-([1-9]\d*.\d{1,}\|0.\d{1,})$/ |
| containZeroFloat | 浮点数或者0 | 请输入小数或0 | /^-?([1-9]\d*.\d{1,}\|0.\d{1,}\|0)$/ |
| nonnegativeFloat | 非负浮点数 | 请输入>=0的小数 | /^([1-9]\d*.\d{1,}\|0.\d{1,}\|0)$/ |
| nonpositiveFloat | 非正浮点数 | 请输入<=0的小数 | /^(-([1-9]\d*.\d{1,}\|0.\d{1,})\|0)$/ |
| capital | 英文大写 | 只能输入大写的英文字母 | /^[A-Z]+$/ |
| lowercase | 英文小写 | 只能输入小写的英文字母 | /^[a-z]+$/ |
| doubleByteCharacter | 双字节字符 | 只能输入双字节字符(包括汉字在内) | /^\x00-\xff/ |